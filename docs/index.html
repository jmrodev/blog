
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Blog SPA</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <div class="layout">
    <aside class="sidebar">
      <button id="theme-toggle" class="theme-btn">üåì Cambiar tema</button>
      <nav>
        <h3>Art√≠culos</h3>
        <div id="nav-links">
          <ul class="nav-list nav-level-0"><li class="nav-folder">
        <button class="nav-folder-toggle" data-target="folder-kn2uixeq" aria-expanded="false">articulos <span class="arrow">‚ñ∂</span></button>
        <div id="folder-kn2uixeq" class="nav-folder-children">
          <ul class="nav-list nav-level-1"><li class="nav-folder">
        <button class="nav-folder-toggle" data-target="folder-6fgftjjn" aria-expanded="false">avanzados <span class="arrow">‚ñ∂</span></button>
        <div id="folder-6fgftjjn" class="nav-folder-children">
          <ul class="nav-list nav-level-2"><li><a href="#" class="nav-link" data-article="articulos/avanzados/nvim">Neovim: Todo en uno</a></li></ul>
        </div>
      </li><li class="nav-folder">
        <button class="nav-folder-toggle" data-target="folder-c7x5tsru" aria-expanded="false">basicos <span class="arrow">‚ñ∂</span></button>
        <div id="folder-c7x5tsru" class="nav-folder-children">
          <ul class="nav-list nav-level-2"><li><a href="#" class="nav-link" data-article="articulos/basicos/css-grid">CSS Grid: El sistema de layout del futuro</a></li><li><a href="#" class="nav-link" data-article="articulos/basicos/javascript-modern">JavaScript Moderno: ES6+ y m√°s all√°</a></li></ul>
        </div>
      </li></ul>
        </div>
      </li><li class="nav-folder">
        <button class="nav-folder-toggle" data-target="folder-bt50o4gd" aria-expanded="false">enlaces <span class="arrow">‚ñ∂</span></button>
        <div id="folder-bt50o4gd" class="nav-folder-children">
          <ul class="nav-list nav-level-1"></ul>
        </div>
      </li><li><a href="#" class="nav-link" data-article="portfolio">Sin t√≠tulo</a></li><li class="nav-folder">
        <button class="nav-folder-toggle" data-target="folder-ow8n77ms" aria-expanded="false">tutoriales <span class="arrow">‚ñ∂</span></button>
        <div id="folder-ow8n77ms" class="nav-folder-children">
          <ul class="nav-list nav-level-1"></ul>
        </div>
      </li></ul>
        </div>
      </nav>
    </aside>
    <main id="content">
      <h2>Selecciona un art√≠culo</h2>
      <p>Haz clic en un t√≠tulo para ver el contenido.</p>
    </main>
  </div>
  <script>
    // SPA: Cargar el contenido del art√≠culo en el main
    document.getElementById('nav-links').addEventListener('click', async function(e) {
      if (e.target.classList.contains('nav-link')) {
        e.preventDefault();
        document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
        e.target.classList.add('active');
        const articleId = e.target.getAttribute('data-article');
        const res = await fetch('./' + articleId + '.html');
        const html = await res.text();
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, 'text/html');
        const mainContent = doc.querySelector('main');
        document.getElementById('content').innerHTML = mainContent ? mainContent.innerHTML : '<p>Error al cargar el art√≠culo.</p>';
      }
      // Desplegar/cerrar submen√∫s con animaci√≥n suave
      if (e.target.classList.contains('nav-folder-toggle')) {
        e.preventDefault();
        const targetId = e.target.getAttribute('data-target');
        const el = document.getElementById(targetId);
        if (el) {
          const isOpen = el.classList.contains('open');
          el.classList.toggle('open', !isOpen);
          e.target.setAttribute('aria-expanded', !isOpen ? 'true' : 'false');
        }
      }
    });
  </script>
  <script>
  const themeToggle = document.getElementById('theme-toggle');
  const body = document.body;
  const savedTheme = localStorage.getItem('theme');
  if (savedTheme === 'dark') body.classList.add('dark-mode');
  themeToggle.addEventListener('click', () => {
    body.classList.toggle('dark-mode');
    const isDark = body.classList.contains('dark-mode');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
  });
  </script>
</body>
</html>
