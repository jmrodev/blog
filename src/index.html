
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Blog SPA</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <div class="layout">
    <aside class="sidebar">
    <button id="theme-toggle" class="theme-btn">üåì Cambiar tema</button>

      <nav>
        <h3>Art√≠culos</h3>
        <div id="nav-links">
          <a href="#" class="nav-link" data-article="css-grid">CSS Grid: El sistema de layout del futuro</a>
<a href="#" class="nav-link" data-article="getting-started">Getting Started con Desarrollo Web</a>
<a href="#" class="nav-link" data-article="javascript-modern">JavaScript Moderno: ES6+ y m√°s all√°</a>
<a href="#" class="nav-link" data-article="nvim">Neovim: Todo en uno</a>
        </div>
      </nav>
    </aside>
    <main id="content">
      <h2>Selecciona un art√≠culo</h2>
      <p>Haz clic en un t√≠tulo para ver el contenido.</p>
    </main>
  </div>
  <script>
    // SPA: Cargar el contenido del art√≠culo en el main
    document.getElementById('nav-links').addEventListener('click', async function(e) {
      if (e.target.classList.contains('nav-link')) {
        e.preventDefault();
        // Quitar clase activa de todos
        document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
        e.target.classList.add('active');
        // Cargar el HTML del art√≠culo
        const articleId = e.target.getAttribute('data-article');
        const res = await fetch('./' + articleId + '.html');
        const html = await res.text();
        // Extraer solo el contenido del <main> del HTML cargado
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, 'text/html');
        const mainContent = doc.querySelector('main');
        document.getElementById('content').innerHTML = mainContent ? mainContent.innerHTML : '<p>Error al cargar el art√≠culo.</p>';
      }
    });
  </script>

  <script>
  const themeToggle = document.getElementById('theme-toggle');
  const body = document.body;

  // Establecer el tema guardado
  const savedTheme = localStorage.getItem('theme');
  if (savedTheme === 'dark') body.classList.add('dark-mode');

  themeToggle.addEventListener('click', () => {
    body.classList.toggle('dark-mode');
    const isDark = body.classList.contains('dark-mode');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
  });
</script>

</body>
</html>
